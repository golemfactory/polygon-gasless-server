// Copyright 2018-2020 the Deno authors. All rights reserved. MIT license.
//
// Adapted from Node.js. Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
const _toString = Object.prototype.toString;
const _isObjectLike = (value)=>value !== null && typeof value === "object";
const _isFunctionLike = (value)=>value !== null && typeof value === "function";
export function isAnyArrayBuffer(value) {
    return _isObjectLike(value) && (_toString.call(value) === "[object ArrayBuffer]" || _toString.call(value) === "[object SharedArrayBuffer]");
}
export function isArrayBufferView(value) {
    return ArrayBuffer.isView(value);
}
export function isArgumentsObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Arguments]";
}
export function isArrayBuffer(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object ArrayBuffer]";
}
export function isAsyncFunction(value) {
    return _isFunctionLike(value) && _toString.call(value) === "[object AsyncFunction]";
}
export function isBigInt64Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object BigInt64Array]";
}
export function isBigUint64Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object BigUint64Array]";
}
export function isBooleanObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Boolean]";
}
export function isBoxedPrimitive(value) {
    return isBooleanObject(value) || isStringObject(value) || isNumberObject(value) || isSymbolObject(value) || isBigIntObject(value);
}
export function isDataView(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object DataView]";
}
export function isDate(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Date]";
}
// isExternal: Not implemented
export function isFloat32Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Float32Array]";
}
export function isFloat64Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Float64Array]";
}
export function isGeneratorFunction(value) {
    return _isFunctionLike(value) && _toString.call(value) === "[object GeneratorFunction]";
}
export function isGeneratorObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Generator]";
}
export function isInt8Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Int8Array]";
}
export function isInt16Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Int16Array]";
}
export function isInt32Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Int32Array]";
}
export function isMap(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Map]";
}
export function isMapIterator(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Map Iterator]";
}
export function isModuleNamespaceObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Module]";
}
export function isNativeError(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Error]";
}
export function isNumberObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Number]";
}
export function isBigIntObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object BigInt]";
}
export function isPromise(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Promise]";
}
export function isRegExp(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object RegExp]";
}
export function isSet(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Set]";
}
export function isSetIterator(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Set Iterator]";
}
export function isSharedArrayBuffer(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object SharedArrayBuffer]";
}
export function isStringObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object String]";
}
export function isSymbolObject(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Symbol]";
}
// Adapted from Lodash
export function isTypedArray(value) {
    /** Used to match `toStringTag` values of typed arrays. */ const reTypedTag = /^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/;
    return _isObjectLike(value) && reTypedTag.test(_toString.call(value));
}
export function isUint8Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Uint8Array]";
}
export function isUint8ClampedArray(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Uint8ClampedArray]";
}
export function isUint16Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Uint16Array]";
}
export function isUint32Array(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object Uint32Array]";
}
export function isWeakMap(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object WeakMap]";
}
export function isWeakSet(value) {
    return _isObjectLike(value) && _toString.call(value) === "[object WeakSet]";
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjYzLjAvbm9kZS9fdXRpbC9fdXRpbF90eXBlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIwIHRoZSBEZW5vIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuLy9cbi8vIEFkYXB0ZWQgZnJvbSBOb2RlLmpzLiBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuY29uc3QgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuY29uc3QgX2lzT2JqZWN0TGlrZSA9ICh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4gPT5cbiAgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xuXG5jb25zdCBfaXNGdW5jdGlvbkxpa2UgPSAodmFsdWU6IHVua25vd24pOiBib29sZWFuID0+XG4gIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBbnlBcnJheUJ1ZmZlcih2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIF9pc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgKF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiIHx8XG4gICAgICBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBTaGFyZWRBcnJheUJ1ZmZlcl1cIilcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBcmd1bWVudHNPYmplY3QodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0Z1bmN0aW9uKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzRnVuY3Rpb25MaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JpZ0ludDY0QXJyYXkodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBCaWdJbnQ2NEFycmF5XVwiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JpZ1VpbnQ2NEFycmF5KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgQmlnVWludDY0QXJyYXldXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbk9iamVjdCh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgQm9vbGVhbl1cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQm94ZWRQcmltaXRpdmUodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBpc0Jvb2xlYW5PYmplY3QodmFsdWUpIHx8XG4gICAgaXNTdHJpbmdPYmplY3QodmFsdWUpIHx8XG4gICAgaXNOdW1iZXJPYmplY3QodmFsdWUpIHx8XG4gICAgaXNTeW1ib2xPYmplY3QodmFsdWUpIHx8XG4gICAgaXNCaWdJbnRPYmplY3QodmFsdWUpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFWaWV3KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBEYXRhVmlld11cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbn1cblxuLy8gaXNFeHRlcm5hbDogTm90IGltcGxlbWVudGVkXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zsb2F0MzJBcnJheSh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGbG9hdDY0QXJyYXkodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBGbG9hdDY0QXJyYXldXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzR2VuZXJhdG9yRnVuY3Rpb24odmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBfaXNGdW5jdGlvbkxpa2UodmFsdWUpICYmXG4gICAgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzR2VuZXJhdG9yT2JqZWN0KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ludDhBcnJheSh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgSW50OEFycmF5XVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbnQxNkFycmF5KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgSW50MTZBcnJheV1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbnQzMkFycmF5KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgSW50MzJBcnJheV1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNYXAodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IE1hcF1cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWFwSXRlcmF0b3IodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBNYXAgSXRlcmF0b3JdXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9kdWxlTmFtZXNwYWNlT2JqZWN0KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBNb2R1bGVdXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05hdGl2ZUVycm9yKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBFcnJvcl1cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyT2JqZWN0KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBOdW1iZXJdXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JpZ0ludE9iamVjdCh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgQmlnSW50XVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBQcm9taXNlXVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IFJlZ0V4cF1cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBTZXRdXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NldEl0ZXJhdG9yKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgU2V0IEl0ZXJhdG9yXVwiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NoYXJlZEFycmF5QnVmZmVyKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBTaGFyZWRBcnJheUJ1ZmZlcl1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdPYmplY3QodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ltYm9sT2JqZWN0KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBTeW1ib2xdXCI7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBMb2Rhc2hcbmV4cG9ydCBmdW5jdGlvbiBpc1R5cGVkQXJyYXkodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICBjb25zdCByZVR5cGVkVGFnID1cbiAgICAvXlxcW29iamVjdCAoPzpGbG9hdCg/OjMyfDY0KXwoPzpJbnR8VWludCkoPzo4fDE2fDMyKXxVaW50OENsYW1wZWQpQXJyYXlcXF0kLztcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIHJlVHlwZWRUYWcudGVzdChfdG9TdHJpbmcuY2FsbCh2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVaW50OEFycmF5KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgX2lzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgVWludDhBcnJheV1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVaW50OENsYW1wZWRBcnJheSh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIF9pc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgX3RvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVWludDE2QXJyYXkodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBfaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBVaW50MTZBcnJheV1cIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVaW50MzJBcnJheSh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IFdlYWtNYXBdXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc09iamVjdExpa2UodmFsdWUpICYmIF90b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IFdlYWtTZXRdXCI7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEVBQTBFO0FBQzFFLEVBQUU7QUFDRiw0RUFBNEU7QUFDNUUsRUFBRTtBQUNGLDBFQUEwRTtBQUMxRSxnRUFBZ0U7QUFDaEUsc0VBQXNFO0FBQ3RFLHNFQUFzRTtBQUN0RSw0RUFBNEU7QUFDNUUscUVBQXFFO0FBQ3JFLHdCQUF3QjtBQUN4QixFQUFFO0FBQ0YsMEVBQTBFO0FBQzFFLHlEQUF5RDtBQUN6RCxFQUFFO0FBQ0YsMEVBQTBFO0FBQzFFLDZEQUE2RDtBQUM3RCw0RUFBNEU7QUFDNUUsMkVBQTJFO0FBQzNFLHdFQUF3RTtBQUN4RSw0RUFBNEU7QUFDNUUseUNBQXlDO0FBRXpDLE1BQU0sWUFBWSxPQUFPLFVB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